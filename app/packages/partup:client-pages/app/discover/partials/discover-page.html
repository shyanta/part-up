<template name="app_discover_page">
    <section class="pu-composition pu-composition-discover">

        <!-- Header -->
        <header class="pu-sub-header">
            <h2 class="pu-title">
                {{_ 'pages-app-discover-heading' }}

                {{# if partupsLoading }}
                    {{> Spinner type='small' }}
                {{ else }}
                    <span class="pu-sub-countlabel">
                        {{#if count}}
                            {{_ 'pages-app-discover-xpartups' count=count }}
                        {{else}}
                            {{_ 'pages-app-discover-nopartups' }}
                        {{/if}}
                    </span>
                {{/ if }}
            </h2>

            {{# if showProfileCompletion }}
                <p class="pu-columnslayoutaction pu-paragraph pu-sub-right">
                    <a href="{{ pathFor 'profile-settings' _id=currentUser._id }}" data-open-profilesettings>{{_ 'pages-app-discover-profilecompletion' profileCompletion=profileCompletion }}</a>
                </p>
            {{/ if }}
        </header>

        <!-- Content (partup-tiles) -->
        <div data-infinitescroll-container>
            {{> ColumnsLayout
                COLUMNS=amountOfColumns
                TEMPLATE="PartupTile"
                addHook=addToLayoutHook
                clearHook=clearLayoutHook
                rerenderHook=rerenderLayoutHook
            }}
        </div>

    </section>

</template>
